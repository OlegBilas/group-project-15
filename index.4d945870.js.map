{"mappings":"0BASS,oBAAiB,WAE2B,IAA7CA,EAAeC,SAASC,iBAAiB,kBACzCC,EAAcF,SAASC,iBAAiB,qBACxCE,EAAeH,SAASC,iBAAiB,mBAE/CF,EAAAK,SAA8B,SACRC,GACpBA,EAAAC,iBAAA,kBACIC,G,sDASgBP,SAASQ,cAAc,gBAAkBC,EAAU,yBAC3CC,QAAQ,qB,8BAKlCC,eAAeC,kBAAkBZ,SAASa,K,OAI9CV,EAAaC,SAAQ,SAAUC,GAC7BA,EAAKC,iBAAiB,SAAS,SAAUC,GAEvBO,KAAKJ,QAAQ,qBACrBK,UAAUC,IAAI,aACtBL,eAAeM,iBAAiBjB,SAASa,K,OAKbb,SAAvBM,iBACP,SACA,SAAUC,GAGI,WAFAA,EAAEW,MAIuBlB,SAA1BQ,cAAc,6BAA6BO,UAAUC,IAAI,aAClEL,eAAeM,iBAAiBjB,SAASa,M,IAG7C,GAIFX,EAAYE,SAAQ,SAAAC,GAClBA,EAAKC,iBAAiB,SAAS,SAAUC,GACnCA,EAAEY,SAAWZ,EAAEa,gBACjBf,EAAKU,UAAUC,IAAI,aACnBL,eAAeM,iBAAiBjB,SAASa,M","sources":["src/js/modal.js"],"sourcesContent":["/* Універсальний скрипт підключення модальних вікон\n (обмеження на кількість модалок немає, потрібно тільки їх правильно перенумерувати)\n На кнопку відкриття модалки задати клас \"js-open-modal\" та атрибут data-modal=\"1\" (по порядковому номеру)\n На оверлей задати клас \"js-overlay-modal\"\n На модалку задати атрибут data-modal=\"1\" (по порядковому номеру)\n На кнопку закриття задати клас \"js-close-modal\" */\n\n/* Для блокировки скролла на <body> требуется подключение бибилиотеки bodyScrollLock\n в тело тега <body>, например: <script src=\"./js/bodyScrollLock.js\"></script>*/\ndocument.addEventListener('DOMContentLoaded', function () {\n  // Записываем в переменные массив элементов-кнопок и подложку.\n  const modalButtons = document.querySelectorAll('.js-open-modal');\n  const overlaysArr = document.querySelectorAll('.js-overlay-modal');\n  const closeButtons = document.querySelectorAll('.js-close-modal');\n\n  /* Перебираем массив кнопок */\n  modalButtons.forEach(function (item) {\n    /* Назначаем каждой кнопке обработчик клика */\n    item.addEventListener('click', function (e) {\n      /* Предотвращаем стандартное действие элемента. Так как кнопку разные\n            люди могут сделать по-разному. Кто-то сделает ссылку, кто-то кнопку.\n            Нужно подстраховаться. */\n      e.preventDefault();\n\n      /* При каждом клике на кнопку мы будем забирать содержимое атрибута data-modal\n      и будем искать модальное окно с таким же атрибутом, и соответствующую модальному окну подложку. */\n      const modalId = item.getAttribute('data-modal');\n      const modalElem = document.querySelector('[data-modal=\"' + modalId + '\"]:not(button):not(a)');\n      const overlay = modalElem.closest('.js-overlay-modal');\n\n      /* После того как нашли нужную подложку, удалим класс is-hidden\n      подложке, чтобы показать ее, и блокируем скролл на <body>. */\n      overlay.classList.remove('is-hidden');\n      bodyScrollLock.disableBodyScroll(document.body); // added\n    }); // end click\n  }); // end foreach\n\n  closeButtons.forEach(function (item) {\n    item.addEventListener('click', function (e) {\n      // Скроем подложку вместе с модальным окном и восстановим скролл на <body>\n      const overlay = this.closest('.js-overlay-modal');\n      overlay.classList.add('is-hidden');\n      bodyScrollLock.enableBodyScroll(document.body); // added\n    });\n  }); // end foreach\n\n  // Добавим слушателя на нажатие клавиши Esc\n  document.addEventListener(\n    'keyup',\n    function (e) {\n      const key = e.key;\n\n      if (key === 'Escape') {\n        //Активная подложка может быть только одна\n        document.querySelector('.backdrop:not(.is-hidden)').classList.add('is-hidden');\n        bodyScrollLock.enableBodyScroll(document.body); // added\n      }\n    },\n    false\n  );\n\n  // Добавим слушателя на клик по всем оверлеям и установим их скрытие по клику вне модалки\n  overlaysArr.forEach(item => {\n    item.addEventListener('click', function (e) {\n      if (e.target === e.currentTarget) {\n        item.classList.add('is-hidden');\n        bodyScrollLock.enableBodyScroll(document.body); // added}\n      }\n    });\n  });\n});\n// end ready\n"],"names":["modalButtons","document","querySelectorAll","overlaysArr","closeButtons","forEach","item","addEventListener","e","querySelector","modalId","closest","bodyScrollLock","disableBodyScroll","body","this","classList","add","enableBodyScroll","key","target","currentTarget"],"version":3,"file":"index.4d945870.js.map"}