{"mappings":"AAuEkE,SAAzDA,EAAcC,GACrB,GAAc,WAAVA,EAAEC,IAAkB,CAENC,SAASC,cAAc,qCAC/BC,UAAUC,IAAI,aACtBC,eAAeC,iBAAiBL,SAASM,K,4BA1DrC,oBAAkB,WAEyC,MAA3DC,EAAeP,SAASQ,iBAAiB,kBACzCC,EAAcT,SAASQ,iBAAiB,qBACxCE,EAAeV,SAASQ,iBAAiB,mBAE/CD,EAAAI,SAA8B,SACRC,GACpBA,EAAKC,iBAAiB,SAAS,SAAUf,G,wDAQrBE,SAASC,cAAc,gBAAkBa,EAAU,yBAC3CC,QAAQ,qB,8BAKlCf,SAASa,iBAAiB,UAAWhB,GACrCO,eAAeY,kBAAkBhB,SAASM,K,OAI9CI,EAAaC,SAAQ,SAAUC,GAC7BA,EAAKC,iBAAiB,SAAS,SAAUf,GAEvBc,EAAKG,QAAQ,qBACrBb,UAAUC,IAAI,aACjBS,EAAKV,UAAUe,SAAS,mBAC3BjB,SAASkB,oBAAoB,UAAWrB,GACxCO,eAAeC,iBAAiBL,SAASM,M,OAMqCG,EAAxEE,SAAQC,IAClBA,EAAKC,iBAAiB,SAAS,SAAUf,GACnCA,EAAEqB,SAAWrB,EAAEsB,gBACjBR,EAAKV,UAAUC,IAAI,aACnBH,SAASkB,oBAAoB,UAAWrB,GACxCO,eAAeC,iBAAiBL,SAASM,M,GAE3C,G","sources":["src/js/modal.js"],"sourcesContent":["/* Універсальний скрипт підключення модальних вікон\n (обмеження на кількість модалок немає, потрібно тільки їх правильно перенумерувати)\n На кнопку відкриття модалки задати клас \"js-open-modal\" та атрибут data-modal=\"1\" (по порядковому номеру)\n На оверлей задати клас \"js-overlay-modal\"\n На модалку задати атрибут data-modal=\"1\" (по порядковому номеру)\n На кнопку закриття задати клас \"js-close-modal\" \n Можна суміщати в одному тегу бекдроп та модальне вікно, кнопку закриття однієї модалки\n з одночасним відкриттям іншої модалки\n\n Для бекдропа в стилях повинен бути описаний клас:\n .is-hidden {\n    opacity: 0;\n    pointer-events: none;\n    visibility: hidden;\n */\n\n/* Для блокування скролла на <body> потрібне підключення бібіліотеки bodyScrollLock\n в тіло тега <body>, наприклад: <script src=\"./js/bodyScrollLock.js\"></script>*/\ndocument.addEventListener('DOMContentLoaded', function () {\n  // Записуємо в змінні масив елементів кнопок та бекдропів (підложка під модалку)\n  const modalButtons = document.querySelectorAll('.js-open-modal');\n  const overlaysArr = document.querySelectorAll('.js-overlay-modal');\n  const closeButtons = document.querySelectorAll('.js-close-modal');\n\n  /* Перебираємо масив кнопок */\n  modalButtons.forEach(function (item) {\n    item.addEventListener('click', function (e) {\n      /* Запобігаємо стандартній дії елемента. Тому що кнопку можна зробити по-різному. \n      Хтось зробить посиланням, хтось кнопкою. Потрібно підстрахуватися. */\n      e.preventDefault();\n\n      /* При кожному натисканні на кнопку ми будемо забирати вміст атрибуту data-modal\n      і будемо шукати модальне вікно з таким же атрибутом, і бекдроп, що відповідає модальному вікну. */\n      const modalId = item.getAttribute('data-modal');\n      const modalElem = document.querySelector('[data-modal=\"' + modalId + '\"]:not(button):not(a)');\n      const overlay = modalElem.closest('.js-overlay-modal');\n\n      /* Після того, як знайшли потрібний бекдроп, видалимо клас is-hidden\n      у бекдропа, щоб показати останній, і блокуємо скролл на <body>. */\n      overlay.classList.remove('is-hidden');\n      document.addEventListener('keydown', onPressEscape);\n      bodyScrollLock.disableBodyScroll(document.body);\n    }); // end click\n  }); // end foreach\n\n  closeButtons.forEach(function (item) {\n    item.addEventListener('click', function (e) {\n      // Приховаємо бекдроп разом з модальним вікном і відновимо скролл на <body>\n      const overlay = item.closest('.js-overlay-modal');\n      overlay.classList.add('is-hidden');\n      if (!item.classList.contains('js-open-modal')) {\n        document.removeEventListener('keydown', onPressEscape);\n        bodyScrollLock.enableBodyScroll(document.body); // added\n      }\n    });\n  }); // end foreach\n\n  // Додамо прослуховувача на клік по всіх оверлеях і встановимо їх приховування на кліку поза модалкою\n  overlaysArr.forEach(item => {\n    item.addEventListener('click', function (e) {\n      if (e.target === e.currentTarget) {\n        item.classList.add('is-hidden');\n        document.removeEventListener('keydown', onPressEscape);\n        bodyScrollLock.enableBodyScroll(document.body); // added\n      }\n    });\n  });\n});\n// end ready\n\n// Функція прослуховувача події на натиснення клавіші Esc на активному бекдропові\nfunction onPressEscape(e) {\n  if (e.key === 'Escape') {\n    //Активний бекдроп може бути лише один\n    const overlay = document.querySelector('.js-overlay-modal:not(.is-hidden)');\n    overlay.classList.add('is-hidden');\n    bodyScrollLock.enableBodyScroll(document.body); // added\n  }\n}\n"],"names":["$8a7e756c566dd1ea$var$onPressEscape","e","key","document","querySelector","classList","add","bodyScrollLock","enableBodyScroll","body","modalButtons","querySelectorAll","overlaysArr","closeButtons","forEach","item","addEventListener","modalId","closest","disableBodyScroll","contains","removeEventListener","target","currentTarget"],"version":3,"file":"index.c86c0f3c.js.map"}